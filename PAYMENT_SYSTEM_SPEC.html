<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Pagos H√≠brido - Legal RAG</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .content {
            padding: 60px 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 2em;
            color: #667eea;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 5px;
        }

        .badge-success { background: #d4edda; color: #155724; }
        .badge-info { background: #d1ecf1; color: #0c5460; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-primary { background: #cfe2ff; color: #084298; }
        .badge-danger { background: #f8d7da; color: #842029; }

        .card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .card p {
            margin-bottom: 10px;
            color: #666;
        }

        .plan-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .plan-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .plan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .plan-card.featured {
            border-color: #667eea;
            border-width: 3px;
        }

        .plan-card.featured::before {
            content: "‚≠ê M√°s Popular";
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: #667eea;
            color: white;
            padding: 5px 20px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .plan-name {
            font-size: 1.6em;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .plan-price {
            font-size: 3em;
            color: #667eea;
            font-weight: 700;
            margin: 20px 0;
        }

        .plan-price small {
            font-size: 0.4em;
            color: #999;
        }

        .plan-features {
            text-align: left;
            margin: 25px 0;
        }

        .plan-features li {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
            list-style: none;
        }

        .plan-features li::before {
            content: "‚úì";
            color: #28a745;
            font-weight: 700;
            margin-right: 10px;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .method-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
        }

        .method-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .method-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .method-type {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            margin-top: 10px;
        }

        .method-type.auto {
            background: #d4edda;
            color: #155724;
        }

        .method-type.manual {
            background: #fff3cd;
            color: #856404;
        }

        .flow-diagram {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 30px;
            margin: 25px 0;
        }

        .flow-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 2px dashed #e0e0e0;
        }

        .flow-step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .step-content h4 {
            color: #667eea;
            margin-bottom: 8px;
            font-size: 1.2em;
        }

        .step-content p {
            color: #666;
        }

        .feature-list {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .feature-list li {
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
            list-style: none;
        }

        .feature-list li:last-child {
            border-bottom: none;
        }

        .feature-list li::before {
            content: "‚û§";
            color: #667eea;
            font-weight: 700;
            margin-right: 12px;
        }

        .code-block {
            background: #282c34;
            color: #abb2bf;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .alert {
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .alert-info {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border-left: 4px solid #155724;
            color: #155724;
        }

        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid #856404;
            color: #856404;
        }

        .footer {
            background: #f8f9fa;
            padding: 40px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí≥ Sistema de Pagos H√≠brido</h1>
            <p>Legal RAG - Soluci√≥n completa de monetizaci√≥n con pagos autom√°ticos y manuales</p>
            <div style="margin-top: 20px;">
                <span class="badge badge-success">‚úì Stripe Integration</span>
                <span class="badge badge-info">‚úì PayPal Support</span>
                <span class="badge badge-warning">‚úì Transferencias Bancarias</span>
                <span class="badge badge-primary">‚úì Aprobaci√≥n Manual</span>
            </div>
        </div>

        <div class="content">
            <!-- Resumen Ejecutivo -->
            <div class="section">
                <h2 class="section-title">üìä Resumen Ejecutivo</h2>
                <p style="font-size: 1.1em; color: #666; margin-bottom: 20px;">
                    Se ha implementado un sistema de pagos h√≠brido profesional que combina la automatizaci√≥n de pagos internacionales
                    (Stripe/PayPal) con la flexibilidad de m√©todos de pago locales ecuatorianos (transferencias bancarias y dep√≥sitos),
                    incluyendo un robusto panel administrativo para la gesti√≥n y aprobaci√≥n de pagos manuales.
                </p>

                <div class="plan-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                    <div class="card" style="text-align: center;">
                        <h3 style="font-size: 3em; margin: 0;">4</h3>
                        <p style="margin: 0;">Planes de Suscripci√≥n</p>
                    </div>
                    <div class="card" style="text-align: center;">
                        <h3 style="font-size: 3em; margin: 0;">4</h3>
                        <p style="margin: 0;">M√©todos de Pago</p>
                    </div>
                    <div class="card" style="text-align: center;">
                        <h3 style="font-size: 3em; margin: 0;">5</h3>
                        <p style="margin: 0;">Nuevas Tablas DB</p>
                    </div>
                    <div class="card" style="text-align: center;">
                        <h3 style="font-size: 3em; margin: 0;">100%</h3>
                        <p style="margin: 0;">Automatizado</p>
                    </div>
                </div>
            </div>

            <!-- Planes de Suscripci√≥n -->
            <div class="section">
                <h2 class="section-title">üí∞ Planes de Suscripci√≥n</h2>
                <p style="color: #666; margin-bottom: 30px;">Cuatro planes dise√±ados para diferentes tipos de usuarios, desde individual hasta empresarial.</p>

                <div class="plan-grid">
                    <div class="plan-card">
                        <div class="plan-name">üÜì Gratuito</div>
                        <div class="plan-price">$0<small>/mes</small></div>
                        <ul class="plan-features">
                            <li>1 GB almacenamiento</li>
                            <li>50 documentos</li>
                            <li>100 consultas/mes</li>
                            <li>Soporte por email</li>
                        </ul>
                        <span class="badge badge-info">Ideal para prueba</span>
                    </div>

                    <div class="plan-card">
                        <div class="plan-name">‚ö° B√°sico</div>
                        <div class="plan-price">$19<small>/mes</small></div>
                        <ul class="plan-features">
                            <li>10 GB almacenamiento</li>
                            <li>500 documentos</li>
                            <li>1,000 consultas/mes</li>
                            <li>Soporte prioritario</li>
                            <li>Documentaci√≥n legal</li>
                        </ul>
                        <span class="badge badge-primary">Abogados independientes</span>
                    </div>

                    <div class="plan-card featured">
                        <div class="plan-name">üöÄ Profesional</div>
                        <div class="plan-price">$49<small>/mes</small></div>
                        <ul class="plan-features">
                            <li>50 GB almacenamiento</li>
                            <li>2,000 documentos</li>
                            <li>5,000 consultas/mes</li>
                            <li>Soporte 24/7</li>
                            <li>Biblioteca legal completa</li>
                            <li>API avanzada</li>
                            <li>Usuarios ilimitados</li>
                        </ul>
                        <span class="badge badge-success">Firmas peque√±as/medianas</span>
                    </div>

                    <div class="plan-card">
                        <div class="plan-name">üëë Empresarial</div>
                        <div class="plan-price">$149<small>/mes</small></div>
                        <ul class="plan-features">
                            <li>200 GB almacenamiento</li>
                            <li>10,000 documentos</li>
                            <li>25,000 consultas/mes</li>
                            <li>Soporte dedicado</li>
                            <li>API ilimitada</li>
                            <li>Integraci√≥n custom</li>
                            <li>Capacitaci√≥n incluida</li>
                        </ul>
                        <span class="badge badge-danger">Grandes firmas</span>
                    </div>
                </div>

                <div class="alert alert-success" style="margin-top: 30px;">
                    <strong>üí° Ahorro anual:</strong> Todos los planes ofrecen descuento pagando anualmente (~17% de ahorro)
                </div>
            </div>

            <!-- M√©todos de Pago -->
            <div class="section">
                <h2 class="section-title">üí≥ M√©todos de Pago Disponibles</h2>

                <div class="payment-methods">
                    <div class="method-card">
                        <div class="method-icon">üí≥</div>
                        <div class="method-title">Stripe</div>
                        <p style="color: #666; font-size: 0.95em;">Tarjetas de cr√©dito/d√©bito Visa, MasterCard, American Express</p>
                        <span class="method-type auto">‚úì Activaci√≥n Autom√°tica</span>
                    </div>

                    <div class="method-card">
                        <div class="method-icon">üí∞</div>
                        <div class="method-title">PayPal</div>
                        <p style="color: #666; font-size: 0.95em;">Pago con cuenta PayPal o tarjeta a trav√©s de PayPal</p>
                        <span class="method-type auto">‚úì Activaci√≥n Autom√°tica</span>
                    </div>

                    <div class="method-card">
                        <div class="method-icon">üè¶</div>
                        <div class="method-title">Transferencia Bancaria</div>
                        <p style="color: #666; font-size: 0.95em;">Transferencia a cuentas bancarias ecuatorianas</p>
                        <span class="method-type manual">‚è≥ Aprobaci√≥n Manual</span>
                    </div>

                    <div class="method-card">
                        <div class="method-icon">üíµ</div>
                        <div class="method-title">Dep√≥sito Directo</div>
                        <p style="color: #666; font-size: 0.95em;">Dep√≥sito en efectivo con comprobante</p>
                        <span class="method-type manual">‚è≥ Aprobaci√≥n Manual</span>
                    </div>
                </div>
            </div>

            <!-- Flujo de Pagos Autom√°ticos -->
            <div class="section">
                <h2 class="section-title">‚ö° Flujo de Pagos Autom√°ticos (Stripe/PayPal)</h2>

                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Usuario selecciona plan y m√©todo de pago</h4>
                            <p>El usuario elige su plan deseado y selecciona Stripe o PayPal como m√©todo de pago.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Redirecci√≥n a pasarela de pago</h4>
                            <p>Se crea una sesi√≥n de pago segura y el usuario es redirigido a Stripe/PayPal.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Procesamiento del pago</h4>
                            <p>Stripe/PayPal procesa el pago de forma segura y env√≠a confirmaci√≥n v√≠a webhook.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Activaci√≥n autom√°tica de la suscripci√≥n</h4>
                            <p>El sistema recibe el webhook, activa la suscripci√≥n y actualiza los l√≠mites del usuario.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>Notificaci√≥n al usuario</h4>
                            <p>Se env√≠a email de confirmaci√≥n y notificaci√≥n in-app. El usuario tiene acceso inmediato.</p>
                        </div>
                    </div>
                </div>

                <div class="alert alert-success">
                    <strong>‚úì Ventajas:</strong> Activaci√≥n instant√°nea, renovaci√≥n autom√°tica, sin intervenci√≥n manual
                </div>
            </div>

            <!-- Flujo de Pagos Manuales -->
            <div class="section">
                <h2 class="section-title">üè¶ Flujo de Pagos Manuales (Transferencia/Dep√≥sito)</h2>

                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Usuario selecciona pago manual</h4>
                            <p>El usuario elige transferencia bancaria o dep√≥sito directo y ve los datos bancarios.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Realiza el pago en su banco</h4>
                            <p>El usuario realiza la transferencia o dep√≥sito desde su banco usando los datos proporcionados.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Sube comprobante de pago</h4>
                            <p>El usuario sube foto/PDF del comprobante con detalles: banco, fecha, referencia, monto.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Revisi√≥n administrativa</h4>
                            <p>El administrador recibe notificaci√≥n y revisa el comprobante en el panel admin.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>Aprobaci√≥n/Rechazo</h4>
                            <p>Admin aprueba (activa suscripci√≥n) o rechaza (solicita nuevo comprobante).</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h4>Notificaci√≥n al usuario</h4>
                            <p>Usuario recibe email y notificaci√≥n in-app con el resultado. Si aprobado, obtiene acceso inmediato.</p>
                        </div>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <strong>‚è≥ Nota:</strong> Los pagos manuales requieren verificaci√≥n administrativa (t√≠picamente 24-48 horas)
                </div>
            </div>

            <!-- Estructura de Base de Datos -->
            <div class="section">
                <h2 class="section-title">üóÑÔ∏è Estructura de Base de Datos</h2>

                <div class="card">
                    <h3>üìã subscription_plans</h3>
                    <p><strong>Prop√≥sito:</strong> Define los planes de suscripci√≥n disponibles</p>
                    <ul class="feature-list">
                        <li>code: C√≥digo √∫nico (free, basic, professional, enterprise)</li>
                        <li>name / nameEnglish: Nombres en espa√±ol e ingl√©s</li>
                        <li>priceMonthlyUSD / priceYearlyUSD: Precios mensuales y anuales</li>
                        <li>storageGB, documentsLimit, monthlyQueries, apiCallsLimit: L√≠mites</li>
                        <li>features: JSON con lista de caracter√≠sticas incluidas</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üìã subscriptions</h3>
                    <p><strong>Prop√≥sito:</strong> Registra las suscripciones activas de los usuarios</p>
                    <ul class="feature-list">
                        <li>userId: Referencia al usuario suscrito</li>
                        <li>planId: Plan al que est√° suscrito</li>
                        <li>status: pending, active, suspended, cancelled, expired</li>
                        <li>billingCycle: monthly o yearly</li>
                        <li>currentPeriodStart/End: Per√≠odo actual de facturaci√≥n</li>
                        <li>stripeSubscriptionId / paypalSubscriptionId: IDs externos</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üìã payments</h3>
                    <p><strong>Prop√≥sito:</strong> Registro completo de todas las transacciones de pago</p>
                    <ul class="feature-list">
                        <li>subscriptionId: Suscripci√≥n asociada (opcional)</li>
                        <li>amount, currency: Monto y moneda del pago</li>
                        <li>method: stripe, paypal, bank_transfer, cash_deposit</li>
                        <li>status: pending, processing, completed, failed, refunded</li>
                        <li>externalId: ID de transacci√≥n de Stripe/PayPal</li>
                        <li>paidAt, failedAt, refundedAt: Timestamps de eventos</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üìã payment_proofs</h3>
                    <p><strong>Prop√≥sito:</strong> Almacena comprobantes de pagos manuales para verificaci√≥n</p>
                    <ul class="feature-list">
                        <li>paymentId: Pago asociado (relaci√≥n 1:1)</li>
                        <li>fileUrl, fileName: Archivo del comprobante subido</li>
                        <li>bankName, accountNumber, referenceNumber: Datos del pago</li>
                        <li>depositDate: Fecha en que se realiz√≥ el dep√≥sito/transferencia</li>
                        <li>status: pending, approved, rejected</li>
                        <li>reviewedBy, reviewedAt, reviewNotes: Datos de la revisi√≥n admin</li>
                    </ul>
                </div>
            </div>

            <!-- Panel Administrativo -->
            <div class="section">
                <h2 class="section-title">‚öôÔ∏è Panel Administrativo de Pagos</h2>

                <div class="card">
                    <h3>üìä Dashboard de Pagos</h3>
                    <ul class="feature-list">
                        <li>Vista general: Total recaudado, pagos pendientes, tasa de conversi√≥n</li>
                        <li>Gr√°ficos de ingresos mensuales y anuales</li>
                        <li>Distribuci√≥n por plan (cu√°ntos usuarios en cada plan)</li>
                        <li>Distribuci√≥n por m√©todo de pago</li>
                        <li>MRR (Monthly Recurring Revenue) y ARR (Annual)</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üìù Gesti√≥n de Comprobantes</h3>
                    <ul class="feature-list">
                        <li>Lista de comprobantes pendientes de revisi√≥n</li>
                        <li>Vista previa del comprobante (imagen/PDF)</li>
                        <li>Formulario de aprobaci√≥n/rechazo con notas</li>
                        <li>Historial completo de comprobantes aprobados/rechazados</li>
                        <li>B√∫squeda y filtros por usuario, fecha, estado</li>
                        <li>Notificaciones autom√°ticas al aprobar/rechazar</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üë• Gesti√≥n de Suscripciones</h3>
                    <ul class="feature-list">
                        <li>Lista completa de suscripciones activas</li>
                        <li>Capacidad de pausar, cancelar o reactivar suscripciones</li>
                        <li>Cambiar plan de un usuario manualmente</li>
                        <li>Ver historial de pagos de cada usuario</li>
                        <li>Extender per√≠odo de prueba o dar acceso gratuito</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üí∞ Gesti√≥n de Planes</h3>
                    <ul class="feature-list">
                        <li>Editar precios de planes existentes</li>
                        <li>Activar/desactivar planes</li>
                        <li>Modificar l√≠mites y caracter√≠sticas</li>
                        <li>Crear nuevos planes de suscripci√≥n</li>
                    </ul>
                </div>
            </div>

            <!-- Caracter√≠sticas del Sistema -->
            <div class="section">
                <h2 class="section-title">‚ú® Caracter√≠sticas Principales</h2>

                <div class="plan-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                    <div class="card">
                        <h3>üîÑ Renovaci√≥n Autom√°tica</h3>
                        <p>Las suscripciones de Stripe/PayPal se renuevan autom√°ticamente. Sistema detecta fallas de pago y notifica al usuario.</p>
                    </div>

                    <div class="card">
                        <h3>üìß Notificaciones Email</h3>
                        <p>Email autom√°tico cuando: pago exitoso, pago fallido, suscripci√≥n a punto de vencer, comprobante aprobado/rechazado.</p>
                    </div>

                    <div class="card">
                        <h3>üîî Notificaciones In-App</h3>
                        <p>Sistema de notificaciones dentro de la aplicaci√≥n para todos los eventos relacionados con pagos.</p>
                    </div>

                    <div class="card">
                        <h3>üí∏ Reembolsos</h3>
                        <p>Soporte completo para procesar reembolsos desde el panel admin (Stripe/PayPal + registro en BD).</p>
                    </div>

                    <div class="card">
                        <h3>üìä Analytics Detallados</h3>
                        <p>M√©tricas completas: MRR, churn rate, LTV, tasa de conversi√≥n, m√©todos de pago preferidos.</p>
                    </div>

                    <div class="card">
                        <h3>üîê Seguridad PCI-DSS</h3>
                        <p>No almacenamos datos de tarjetas. Stripe/PayPal manejan toda la informaci√≥n sensible cumpliendo PCI-DSS.</p>
                    </div>

                    <div class="card">
                        <h3>üåê Multi-Moneda</h3>
                        <p>Soporte para USD como moneda principal, preparado para agregar m√°s monedas (EUR, MXN, COP, etc.).</p>
                    </div>

                    <div class="card">
                        <h3>üì± Responsive</h3>
                        <p>Todo el flujo de pago funciona perfectamente en mobile, tablet y desktop.</p>
                    </div>
                </div>
            </div>

            <!-- Informaci√≥n Bancaria -->
            <div class="section">
                <h2 class="section-title">üè¶ Datos Bancarios para Pagos Manuales</h2>

                <div class="alert alert-info">
                    <strong>‚ÑπÔ∏è Configuraci√≥n requerida:</strong> Los administradores deben configurar las cuentas bancarias en el panel de administraci√≥n.
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Banco</th>
                            <th>Tipo de Cuenta</th>
                            <th>N√∫mero de Cuenta</th>
                            <th>Titular</th>
                            <th>C√©dula/RUC</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Banco Pichincha</td>
                            <td>Corriente</td>
                            <td>####-####-####</td>
                            <td>Legal RAG S.A.</td>
                            <td>################</td>
                        </tr>
                        <tr>
                            <td>Banco Guayaquil</td>
                            <td>Ahorros</td>
                            <td>####-####-####</td>
                            <td>Legal RAG S.A.</td>
                            <td>################</td>
                        </tr>
                    </tbody>
                </table>

                <p style="color: #666; margin-top: 20px;">
                    <strong>Nota:</strong> Los datos bancarios reales deben ser configurados por el administrador en el sistema antes de habilitar pagos manuales.
                </p>
            </div>

            <!-- Pr√≥ximos Pasos -->
            <div class="section">
                <h2 class="section-title">üöÄ Pr√≥ximos Pasos de Implementaci√≥n</h2>

                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Configurar cuentas de Stripe y PayPal</h4>
                            <p>Crear cuentas empresariales, obtener API keys, configurar webhooks.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Implementar rutas de backend para pagos</h4>
                            <p>Crear endpoints para crear suscripciones, procesar webhooks, gestionar comprobantes.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Desarrollar UI de selecci√≥n de planes</h4>
                            <p>P√°gina de pricing con comparaci√≥n de planes y botones de suscripci√≥n.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Implementar flujo de checkout</h4>
                            <p>Integraci√≥n con Stripe Checkout y PayPal Smart Buttons.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>Crear interfaz de upload de comprobantes</h4>
                            <p>Formulario para que usuarios suban comprobantes de pago manual con validaci√≥n.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h4>Desarrollar panel admin de pagos</h4>
                            <p>Dashboard, gesti√≥n de comprobantes, suscripciones, analytics.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <h4>Implementar sistema de notificaciones</h4>
                            <p>Emails autom√°ticos y notificaciones in-app para todos los eventos de pago.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">8</div>
                        <div class="step-content">
                            <h4>Testing exhaustivo</h4>
                            <p>Probar todos los flujos: pagos exitosos, fallidos, reembolsos, aprobaciones.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">9</div>
                        <div class="step-content">
                            <h4>Documentaci√≥n</h4>
                            <p>Documentar API, flujos de usuario, gu√≠a administrativa.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">10</div>
                        <div class="step-content">
                            <h4>Launch! üéâ</h4>
                            <p>Desplegar a producci√≥n con monitoreo de transacciones.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Endpoints API Requeridos -->
            <div class="section">
                <h2 class="section-title">üîå Endpoints API a Implementar</h2>

                <div class="card">
                    <h3>Gesti√≥n de Planes</h3>
                    <div class="code-block">
GET    /api/v1/plans                    # Listar planes activos
GET    /api/v1/plans/:id                # Obtener plan espec√≠fico
POST   /api/v1/admin/plans              # Crear nuevo plan (admin)
PATCH  /api/v1/admin/plans/:id          # Actualizar plan (admin)
DELETE /api/v1/admin/plans/:id          # Desactivar plan (admin)
                    </div>
                </div>

                <div class="card">
                    <h3>Gesti√≥n de Suscripciones</h3>
                    <div class="code-block">
GET    /api/v1/subscription              # Ver mi suscripci√≥n actual
POST   /api/v1/subscription              # Crear nueva suscripci√≥n
PATCH  /api/v1/subscription              # Cambiar de plan
DELETE /api/v1/subscription              # Cancelar suscripci√≥n
GET    /api/v1/admin/subscriptions       # Listar todas las suscripciones (admin)
PATCH  /api/v1/admin/subscriptions/:id   # Modificar suscripci√≥n (admin)
                    </div>
                </div>

                <div class="card">
                    <h3>Procesamiento de Pagos</h3>
                    <div class="code-block">
POST   /api/v1/payments/stripe/checkout       # Crear sesi√≥n de Stripe
POST   /api/v1/payments/stripe/webhook        # Webhook de Stripe
POST   /api/v1/payments/paypal/create         # Crear orden PayPal
POST   /api/v1/payments/paypal/webhook        # Webhook de PayPal
POST   /api/v1/payments/manual                # Registrar pago manual
GET    /api/v1/payments                       # Ver mis pagos
GET    /api/v1/admin/payments                 # Ver todos los pagos (admin)
                    </div>
                </div>

                <div class="card">
                    <h3>Comprobantes de Pago</h3>
                    <div class="code-block">
POST   /api/v1/payment-proofs                       # Subir comprobante
GET    /api/v1/payment-proofs/:id                   # Ver mi comprobante
GET    /api/v1/admin/payment-proofs                 # Listar comprobantes pendientes
GET    /api/v1/admin/payment-proofs/:id             # Ver comprobante espec√≠fico
PATCH  /api/v1/admin/payment-proofs/:id/approve     # Aprobar comprobante
PATCH  /api/v1/admin/payment-proofs/:id/reject      # Rechazar comprobante
                    </div>
                </div>

                <div class="card">
                    <h3>Analytics y Reportes</h3>
                    <div class="code-block">
GET    /api/v1/admin/payments/analytics      # Analytics de pagos
GET    /api/v1/admin/payments/mrr            # Monthly Recurring Revenue
GET    /api/v1/admin/payments/churn          # Tasa de cancelaci√≥n
GET    /api/v1/admin/payments/export         # Exportar datos para contabilidad
                    </div>
                </div>
            </div>

        </div>

        <div class="footer">
            <p><strong>Legal RAG - Sistema de Pagos H√≠brido</strong></p>
            <p>Documento generado: 8 de Enero, 2025</p>
            <p style="margin-top: 10px; color: #999;">
                Este sistema combina la automatizaci√≥n moderna con la flexibilidad local para maximizar las conversiones
            </p>
        </div>
    </div>
</body>
</html>
