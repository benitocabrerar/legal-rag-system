# ==============================================================================
# SUPABASE CONFIGURATION
# ==============================================================================
# Create a Supabase project at https://app.supabase.com
# Get these from: https://app.supabase.com/project/_/settings/api

SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_ANON_KEY="your-anon-key-here"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-here"

# ==============================================================================
# DATABASE
# ==============================================================================
# Get this from: Supabase Dashboard > Project Settings > Database > Connection String
# Choose "URI" and copy the connection string
# Make sure to replace [YOUR-PASSWORD] with your actual database password

DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres"

# ==============================================================================
# REDIS (Optional - for LLM response caching)
# ==============================================================================
# Leave empty to disable caching
# Recommended for production to reduce OpenAI costs
# Options:
#   - Local: redis://localhost:6379
#   - Upstash (free tier): redis://default:[password]@[host].upstash.io:[port]
#   - Render: Get from Render Redis dashboard

REDIS_URL=""

# ==============================================================================
# OPENAI API
# ==============================================================================
# Get your API key from: https://platform.openai.com/api-keys
# Required for RAG functionality

OPENAI_API_KEY="sk-..."
EMBEDDING_MODEL="text-embedding-3-large"
EMBEDDING_DIMENSIONS=3072

# ==============================================================================
# ANTHROPIC API (Optional - for Claude)
# ==============================================================================
# Get your API key from: https://console.anthropic.com/
# Optional: Use Claude as an alternative to GPT-4

ANTHROPIC_API_KEY="sk-ant-..."

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

NODE_ENV="development"
PORT=8000
CORS_ORIGIN="http://localhost:3000"

# ==============================================================================
# STRIPE (Optional - for payments)
# ==============================================================================
# Get keys from: https://dashboard.stripe.com/apikeys
# Only needed if implementing subscription payments

STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# Protect your API from abuse

RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW="1m"

# ==============================================================================
# PLAN LIMITS
# ==============================================================================
# Maximum cases per subscription plan

MAX_CASES_FREE=5
MAX_CASES_BASIC=50
MAX_CASES_PROFESSIONAL=200
MAX_CASES_TEAM=1000

# ==============================================================================
# FILE UPLOAD
# ==============================================================================

MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES="application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
